[{"path":"https://mpadge.github.io/typetracer/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Mark Padgham. Author, maintainer. Filip Krikava. Author.            Author original 'injectr' code package builds; https://github.com/PRL-PRG/injectr covr authors. Copyright holder.            Original authors sections code 'covr' package included modified form.","code":""},{"path":"https://mpadge.github.io/typetracer/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Padgham M, Krikava F (2022). typetracer: Trace Function Parameter Types. https://github.com/mpadge/typetracer, https://mpadge.github.io/typetracer/.","code":"@Manual{,   title = {typetracer: Trace Function Parameter Types},   author = {Mark Padgham and Filip Krikava},   year = {2022},   note = {https://github.com/mpadge/typetracer, https://mpadge.github.io/typetracer/}, }"},{"path":"https://mpadge.github.io/typetracer/index.html","id":"typetracer","dir":"","previous_headings":"","what":"Trace Function Parameter Types","title":"Trace Function Parameter Types","text":"typetracer R package trace function parameter types. main usage typetracer identify parameters used input R functions. Many computer languages formal type systems, meaning types parameters must formally declared encoded. R different, offers way specify expected types input parameters. typetracer identifies types parameters passed R functions. package can trace individual functions entire packages, demonstrated .","code":""},{"path":"https://mpadge.github.io/typetracer/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Trace Function Parameter Types","text":"package can installed following command: loaded use calling library:","code":"remotes::install_github (\"mpadge/typetracer\") library (typetracer)"},{"path":"https://mpadge.github.io/typetracer/index.html","id":"example-1---a-single-function","dir":"","previous_headings":"","what":"Example #1 - A Single Function","title":"Trace Function Parameter Types","text":"typetracer works “injecting” tracing code body function using inject_tracer() function. Locally-defined functions can traced simply passing functions directly inject_tracer(). following example includes four parameters, including ... allow passing additional entirely arbitrary parameter types values. injecting typetracer code, calls function, f, “trace” parameter function, capturing unevaluated evaluated representations point function first called. values can accessed load_traces function, returns data.frame object (tibble format) one row parameter function call. results shows parameters function, f(), successfully traced, including additional parameters, , b, f, passed part ... argument. additional parameters can identified \"formal\" entry NULL, indicating part formal arguments function. result also includes columns parameters unevaluated evaluated forms. former captures parameters passed function call, latter equivalent evaluated versions. following examples illustrate differences. Unevaluated parameters generally converted equivalent character expressions. class storage.mode columns traces can used convert back type parameter passed function call. following code demonstrates recover formula argument, f = ~ b: Traces saved temporary directory current R session, load_traces() function simply loads traces created session. function clear_traces() removes traces, load_traces() load new traces produced time.","code":"f <- function (x, y, z, ...) {     x * x + y * y } inject_tracer (f) val <- f (     x = 1:2,     y = 3:4 + 0.,     a = \"blah\",     b = list (a = 1, b = \"b\"),     f = a ~ b ) x <- load_traces () x  ## # A tibble: 7 × 9 ##   fn_name fn_call_hash par_name class     storage_mode length formal      uneval ##   <chr>   <chr>        <chr>    <I<list>> <chr>         <int> <named lis> <I<li> ## 1 f       DWqERlrs     x        <chr [1]> integer           2 <missing>   <chr>  ## 2 f       DWqERlrs     y        <chr [1]> double            2 <missing>   <chr>  ## 3 f       DWqERlrs     z        <chr [1]> NULL              0 <missing>   <chr>  ## 4 f       DWqERlrs     ...      <chr [1]> NULL              0 <missing>   <chr>  ## 5 f       DWqERlrs     a        <chr [1]> character         1 <NULL>      <chr>  ## 6 f       DWqERlrs     b        <chr [1]> list              2 <NULL>      <chr>  ## 7 f       DWqERlrs     f        <chr [1]> language          3 <NULL>      <chr>  ## # … with 1 more variable: eval <I<list>> x$uneval [x$par_name %in% c (\"a\", \"b\")]  ## $a ## [1] \"blah\" ##  ## $b ## [1] \"list(a = 1, b = \\\"b\\\")\"  x$eval [x$par_name %in% c (\"a\", \"b\")]  ## $a ## [1] \"blah\" ##  ## $b ## $b$a ## [1] 1 ##  ## $b$b ## [1] \"b\" i <- which (x$storage_mode == \"language\") # 7 convert_fn <- paste0 (\"as.\", x$class [i]) # \"as.formula\" do.call (convert_fn, list (x$uneval [[i]]))  ## a ~ b"},{"path":"https://mpadge.github.io/typetracer/index.html","id":"uninjecting-traces","dir":"","previous_headings":"Example #1 - A Single Function","what":"Uninjecting Traces","title":"Trace Function Parameter Types","text":"important applying inject_tracer() function restore functions back original form calling obverse uninject_tracer() function. function, r, , simply requires, typetracer modifies internal code functions defined within current R session, strongly recommend restarting R session using typetracer, ensure expected function behaviour restored.","code":"uninject_tracer (f)  ## [1] TRUE"},{"path":"https://mpadge.github.io/typetracer/index.html","id":"example-2---tracing-a-package","dir":"","previous_headings":"","what":"Example #2 - Tracing a Package","title":"Trace Function Parameter Types","text":"section presents complex example tracing function calls rematch package, chosen less code almost package CRAN. following single line traces function calls examples nominated package. trace_package() function automatically injects tracing code every function within package, need explicitly call inject_tracer() function. result contains one line every parameter passed every function call examples. trace_package() function also includes additional parameter, types, defaults c (\"examples\", \"tests\"), traces also default generated tests included local source packages. final two columns result hold unevaluated evaluated representations parameter. first two values demonstrate difference: example first assigns variable isodaten first evaluated values, calls function pattern = isodaten. second constructs vector called dates second evaluated values, calls function test = dates.","code":"res <- trace_package (\"rematch\") res  ## # A tibble: 8 × 9 ##   fn_name  fn_call_hash par_name class     storage_mode length formal     uneval ##   <chr>    <chr>        <chr>    <I<list>> <chr>         <int> <named li> <I<li> ## 1 re_match HufnxdXR     pattern  <chr [1]> character         1 <missing>  <chr>  ## 2 re_match HufnxdXR     text     <chr [1]> character         7 <missing>  <chr>  ## 3 re_match HufnxdXR     perl     <chr [1]> logical           1 <lgl [1]>  <chr>  ## 4 re_match HufnxdXR     ...      <chr [1]> NULL              0 <missing>  <chr>  ## 5 re_match NluIn8Lr     pattern  <chr [1]> character         1 <missing>  <chr>  ## 6 re_match NluIn8Lr     text     <chr [1]> character         7 <missing>  <chr>  ## 7 re_match NluIn8Lr     perl     <chr [1]> logical           1 <lgl [1]>  <chr>  ## 8 re_match NluIn8Lr     ...      <chr [1]> NULL              0 <missing>  <chr>  ## # … with 1 more variable: eval <I<list>> res$uneval [1:2]  ## $pattern ## [1] \"isodate\" ##  ## $text ## [1] \"dates\"  res$eval [1:2]  ## $pattern ## [1] \"([0-9]{4})-([0-1][0-9])-([0-3][0-9])\" ##  ## $text ## [1] \"2016-04-20\"       \"1977-08-08\"       \"not a date\"       \"2016\"             ## [5] \"76-03-02\"         \"2012-06-30\"       \"2015-01-21 19:58\""},{"path":"https://mpadge.github.io/typetracer/index.html","id":"example-2a---specifying-functions-to-trace","dir":"","previous_headings":"Example #2 - Tracing a Package","what":"Example #2(a) - Specifying Functions to Trace","title":"Trace Function Parameter Types","text":"trace_package() function also accepts argument, functions, specifying functions package traced. example,","code":"x <- trace_package (\"stats\", functions = c (\"sd\", \"var\"))  ## # A tibble: 10 × 9 ##    fn_name fn_call_hash par_name class     storage.mode length formal     uneval ##    <chr>   <chr>        <chr>    <I<list>> <chr>         <int> <named li> <I<li> ##  1 sd      nNbBzFCg     x        <chr [1]> integer           2 <missing>  <chr>  ##  2 sd      nNbBzFCg     na.rm    <chr [1]> logical           1 <lgl [1]>  <chr>  ##  3 var     kwTgNeUZ     x        <chr [1]> integer           2 <missing>  <chr>  ##  4 var     kwTgNeUZ     y        <chr [1]> NULL              0 <NULL>     <chr>  ##  5 var     kwTgNeUZ     na.rm    <chr [1]> logical           1 <lgl [1]>  <chr>  ##  6 var     kwTgNeUZ     use      <chr [1]> NULL              0 <missing>  <chr>  ##  7 var     risTCGmw     x        <chr [1]> integer          10 <missing>  <chr>  ##  8 var     risTCGmw     y        <chr [1]> NULL              0 <NULL>     <chr>  ##  9 var     risTCGmw     na.rm    <chr [1]> logical           1 <lgl [1]>  <chr>  ## 10 var     risTCGmw     use      <chr [1]> NULL              0 <missing>  <chr>  ## # … with 1 more variable: eval <I<list>>"},{"path":"https://mpadge.github.io/typetracer/reference/clear_traces.html","id":null,"dir":"Reference","previous_headings":"","what":"Clear previous traces — clear_traces","title":"Clear previous traces — clear_traces","text":"Traces default appended previous traces. function can used clean previous ones, enable subsequent calls generate new traces appended previous ones.","code":""},{"path":"https://mpadge.github.io/typetracer/reference/clear_traces.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clear previous traces — clear_traces","text":"","code":"clear_traces()"},{"path":"https://mpadge.github.io/typetracer/reference/inject_tracer.html","id":null,"dir":"Reference","previous_headings":"","what":"Inject parameter tracer into one function — inject_tracer","title":"Inject parameter tracer into one function — inject_tracer","text":"Inject parameter tracer one function","code":""},{"path":"https://mpadge.github.io/typetracer/reference/inject_tracer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Inject parameter tracer into one function — inject_tracer","text":"","code":"inject_tracer(f)"},{"path":"https://mpadge.github.io/typetracer/reference/inject_tracer.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Inject parameter tracer into one function — inject_tracer","text":"f function (, object class \"function\", character string).","code":""},{"path":"https://mpadge.github.io/typetracer/reference/inject_tracer.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Inject parameter tracer into one function — inject_tracer","text":"Nothing (error fail).","code":""},{"path":"https://mpadge.github.io/typetracer/reference/inject_tracer.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Inject parameter tracer into one function — inject_tracer","text":"tracer defined internal get_types function. uses options variable defined package load current tempdir, defining single location traced values dumped. done via options allow multi-threaded function calls calls via callr traced.","code":""},{"path":"https://mpadge.github.io/typetracer/reference/load_traces.html","id":null,"dir":"Reference","previous_headings":"","what":"Load traces of parameter types — load_traces","title":"Load traces of parameter types — load_traces","text":"Load traces parameter types","code":""},{"path":"https://mpadge.github.io/typetracer/reference/load_traces.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load traces of parameter types — load_traces","text":"","code":"load_traces(quiet = FALSE)"},{"path":"https://mpadge.github.io/typetracer/reference/load_traces.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load traces of parameter types — load_traces","text":"quiet FALSE, issue message traces found.","code":""},{"path":"https://mpadge.github.io/typetracer/reference/trace_package.html","id":null,"dir":"Reference","previous_headings":"","what":"Trace all parameters for all functions in a specified package — trace_package","title":"Trace all parameters for all functions in a specified package — trace_package","text":"Trace parameters functions specified package","code":""},{"path":"https://mpadge.github.io/typetracer/reference/trace_package.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Trace all parameters for all functions in a specified package — trace_package","text":"","code":"trace_package(   package = NULL,   functions = NULL,   types = c(\"examples\", \"tests\"),   pkg_dir = NULL )"},{"path":"https://mpadge.github.io/typetracer/reference/trace_package.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Trace all parameters for all functions in a specified package — trace_package","text":"package Name package traced (character value) functions Optional character vector names functions trace. Defaults tracing functions. types types code run generate traces: one values \"examples\" \"tests\" (tools::testInstalledPackage). pkg_dir \"types\" including \"tests\", local directory source code package. (needed installed versions generally include tests.)","code":""},{"path":"https://mpadge.github.io/typetracer/reference/trace_package.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Trace all parameters for all functions in a specified package — trace_package","text":"data.frame data every parameter every function specified code provided package examples.","code":""},{"path":"https://mpadge.github.io/typetracer/reference/uninject_tracer.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove parameter tracer from one function — uninject_tracer","title":"Remove parameter tracer from one function — uninject_tracer","text":"function removes traces previous injected functions inject_tracer function.","code":""},{"path":"https://mpadge.github.io/typetracer/reference/uninject_tracer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove parameter tracer from one function — uninject_tracer","text":"","code":"uninject_tracer(f)"},{"path":"https://mpadge.github.io/typetracer/reference/uninject_tracer.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove parameter tracer from one function — uninject_tracer","text":"f function (, object class \"function\", character string).","code":""},{"path":"https://mpadge.github.io/typetracer/reference/uninject_tracer.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Remove parameter tracer from one function — uninject_tracer","text":"Logical value indicating whether tracer able removed (\"uninjected\").","code":""}]
