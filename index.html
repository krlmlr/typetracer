<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Trace function parameter types.">
<title>Trace Function Parameter Types • typetracer</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Trace Function Parameter Types">
<meta property="og:description" content="Trace function parameter types.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">typetracer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.038</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/nse.html">Non-Standard Evaluation</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/mpadge/typetracer/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="typetracer">typetracer<a class="anchor" aria-label="anchor" href="#typetracer"></a>
</h1></div>
<p><code>typetracer</code> is an R package to trace function parameter types. The R language includes <a href="https://cran.r-project.org/doc/manuals/r-release/R-lang.html#Basic-types" class="external-link">a set of defined types</a>, but the language itself is <a href="https://dl.acm.org/doi/pdf/10.1145/3340670.3342426" class="external-link">“absurdly dynamic”</a>[1], and lacks any way to specify which types are expected by any expression. The <code>typetracer</code> package enables code to be traced to see what types of parameters are actually passed to R functions. <code>typetracer</code> can trace individual functions or entire packages, as demonstrated below.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The package can be installed with the following command:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>remotes<span class="op">::</span><span class="kw">install_github</span> (<span class="st">"mpadge/typetracer"</span>)</span></code></pre></div>
<p>Then loaded for use by calling <code>library</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw">library</span> (typetracer)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example-1---a-single-function">Example #1 - A Single Function<a class="anchor" aria-label="anchor" href="#example-1---a-single-function"></a>
</h2>
<p><code>typetracer</code> works by “injecting” tracing code into the body of a function using <a href="https://mpadge.github.io/typetracer/reference/inject_tracer.html">the <code>inject_tracer()</code> function</a>. Locally-defined functions can be traced by simply passing the functions directly to <code><a href="reference/inject_tracer.html">inject_tracer()</a></code>. The following example includes four parameters, including <code>...</code> to allow passing of additional and entirely arbitrary parameter types and values.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>f &lt;-<span class="st"> </span><span class="cf">function</span> (x, y, z, ...) {</span>
<span id="cb3-2"><a href="#cb3-2"></a>    x <span class="op">*</span><span class="st"> </span>x <span class="op">+</span><span class="st"> </span>y <span class="op">*</span><span class="st"> </span>y</span>
<span id="cb3-3"><a href="#cb3-3"></a>}</span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="kw">inject_tracer</span> (f)</span></code></pre></div>
<p>After injecting the <code>typetracer</code> code, calls to the function, <code>f</code>, will “trace” each parameter of the function, by capturing both unevaluated and evaluated representations at the point at which the function is first called. These values can be accessed with <a href="https://mpadge.github.io/typetracer/reference/load_traces.html">the <code>load_traces</code> function</a>, which returns a <code>data.frame</code> object (in <a href="https://tibble.tidyverse.org" class="external-link"><code>tibble</code> format</a>) with one row for each parameter from each function call.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>val &lt;-<span class="st"> </span><span class="kw">f</span> (</span>
<span id="cb4-2"><a href="#cb4-2"></a>    <span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>,</span>
<span id="cb4-3"><a href="#cb4-3"></a>    <span class="dt">y =</span> <span class="dv">3</span><span class="op">:</span><span class="dv">4</span> <span class="op">+</span><span class="st"> </span><span class="fl">0.</span>,</span>
<span id="cb4-4"><a href="#cb4-4"></a>    <span class="dt">a =</span> <span class="st">"blah"</span>,</span>
<span id="cb4-5"><a href="#cb4-5"></a>    <span class="dt">b =</span> <span class="kw">list</span> (<span class="dt">a =</span> <span class="dv">1</span>, <span class="dt">b =</span> <span class="st">"b"</span>),</span>
<span id="cb4-6"><a href="#cb4-6"></a>    <span class="dt">f =</span> a <span class="op">~</span><span class="st"> </span>b</span>
<span id="cb4-7"><a href="#cb4-7"></a>)</span>
<span id="cb4-8"><a href="#cb4-8"></a>x &lt;-<span class="st"> </span><span class="kw">load_traces</span> ()</span>
<span id="cb4-9"><a href="#cb4-9"></a>x</span>
<span id="cb4-10"><a href="#cb4-10"></a></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="co">## # A tibble: 7 × 10</span></span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="co">##   trace_number fn_name fn_call_hash par_name class storage_mode length formal   </span></span>
<span id="cb4-13"><a href="#cb4-13"></a><span class="co">##          &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;    &lt;I&lt;l&gt; &lt;chr&gt;         &lt;int&gt; &lt;named l&gt;</span></span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="co">## 1            0 f       KcvrbyeT     x        &lt;chr&gt; integer           2 &lt;missing&gt;</span></span>
<span id="cb4-15"><a href="#cb4-15"></a><span class="co">## 2            0 f       KcvrbyeT     y        &lt;chr&gt; double            2 &lt;missing&gt;</span></span>
<span id="cb4-16"><a href="#cb4-16"></a><span class="co">## 3            0 f       KcvrbyeT     z        &lt;chr&gt; NULL              0 &lt;missing&gt;</span></span>
<span id="cb4-17"><a href="#cb4-17"></a><span class="co">## 4            0 f       KcvrbyeT     ...      &lt;chr&gt; NULL              0 &lt;missing&gt;</span></span>
<span id="cb4-18"><a href="#cb4-18"></a><span class="co">## 5            0 f       KcvrbyeT     a        &lt;chr&gt; character         1 &lt;NULL&gt;   </span></span>
<span id="cb4-19"><a href="#cb4-19"></a><span class="co">## 6            0 f       KcvrbyeT     b        &lt;chr&gt; list              2 &lt;NULL&gt;   </span></span>
<span id="cb4-20"><a href="#cb4-20"></a><span class="co">## 7            0 f       KcvrbyeT     f        &lt;chr&gt; language          3 &lt;NULL&gt;   </span></span>
<span id="cb4-21"><a href="#cb4-21"></a><span class="co">## # … with 2 more variables: uneval &lt;I&lt;list&gt;&gt;, eval &lt;I&lt;list&gt;&gt;</span></span></code></pre></div>
<p>That results shows that all parameters of the function, <code>f()</code>, were successfully traced, including the additional parameters, <code>a</code>, <code>b</code>, and <code>f</code>, passed as part of the <code>...</code> argument. Such additional parameters can be identified through having a <code>"formal"</code> entry of <code>NULL</code>, indicating that they are not part of the formal arguments to the function.</p>
<p>The result also includes columns for all parameters both in unevaluated and evaluated forms. The former captures the parameters as passed to the function call, while the latter are the equivalent evaluated versions. The following examples illustrate the differences.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>x<span class="op">$</span>uneval [x<span class="op">$</span>par_name <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span> (<span class="st">"a"</span>, <span class="st">"b"</span>)]</span>
<span id="cb5-2"><a href="#cb5-2"></a></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="co">## $a</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="co">## [1] "blah"</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="co">## </span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="co">## $b</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="co">## [1] "list(a = 1, b = \"b\")"</span></span>
<span id="cb5-8"><a href="#cb5-8"></a></span>
<span id="cb5-9"><a href="#cb5-9"></a>x<span class="op">$</span>eval [x<span class="op">$</span>par_name <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span> (<span class="st">"a"</span>, <span class="st">"b"</span>)]</span>
<span id="cb5-10"><a href="#cb5-10"></a></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="co">## $a</span></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="co">## [1] "blah"</span></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="co">## </span></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="co">## $b</span></span>
<span id="cb5-15"><a href="#cb5-15"></a><span class="co">## $b$a</span></span>
<span id="cb5-16"><a href="#cb5-16"></a><span class="co">## [1] 1</span></span>
<span id="cb5-17"><a href="#cb5-17"></a><span class="co">## </span></span>
<span id="cb5-18"><a href="#cb5-18"></a><span class="co">## $b$b</span></span>
<span id="cb5-19"><a href="#cb5-19"></a><span class="co">## [1] "b"</span></span></code></pre></div>
<p>Unevaluated parameters are generally converted to equivalent character expressions. The <code>class</code> and <code>storage.mode</code> columns of traces can be used to convert these back to the type of parameter passed to the function call. The following code demonstrates how to recover the formula argument, <code>f = a ~ b</code>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>i &lt;-<span class="st"> </span><span class="kw">which</span> (x<span class="op">$</span>storage_mode <span class="op">==</span><span class="st"> "language"</span>) <span class="co"># 7</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>convert_fn &lt;-<span class="st"> </span><span class="kw">paste0</span> (<span class="st">"as."</span>, x<span class="op">$</span>class [i]) <span class="co"># "as.formula"</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="kw">do.call</span> (convert_fn, <span class="kw">list</span> (x<span class="op">$</span>uneval [[i]]))</span>
<span id="cb6-4"><a href="#cb6-4"></a></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co">## a ~ b</span></span></code></pre></div>
<p>Traces themselves are saved in the temporary directory of the current R session, and <a href="https://mpadge.github.io/typetracer/reference/load_traces.html">the <code>load_traces()</code> function</a> simply loads all traces created in that session. <a href="https://mpadge.github.io/typetracer/reference/clear_traces.html">The function <code>clear_traces()</code></a> removes all traces, so that <a href="https://mpadge.github.io/typetracer/reference/load_traces.html"><code>load_traces()</code></a> will only load new traces produced after that time.</p>
<div class="section level3">
<h3 id="uninjecting-traces">Uninjecting Traces<a class="anchor" aria-label="anchor" href="#uninjecting-traces"></a>
</h3>
<p>It is important after applying <a href="https://mpadge.github.io/typetracer/reference/inject_tracer.html">the <code>inject_tracer()</code> function</a> to restore the functions back to their original form through calling <a href="https://mpadge.github.io/typetracer/reference/uninject_tracer.html">the obverse <code>uninject_tracer()</code> function</a>. For the function, <code>r</code>, above, this simply requires,</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw">uninject_tracer</span> (f)</span>
<span id="cb7-2"><a href="#cb7-2"></a></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="co">## [1] TRUE</span></span></code></pre></div>
<p>Because <code>typetracer</code> modifies the internal code of functions as defined within a current R session, we strongly recommend restarting your R session after using <code>typetracer</code>, to ensure expected function behaviour is restored.</p>
</div>
</div>
<div class="section level2">
<h2 id="example-2---tracing-a-package">Example #2 - Tracing a Package<a class="anchor" aria-label="anchor" href="#example-2---tracing-a-package"></a>
</h2>
<p>This section presents a more complex example tracing all function calls from <a href="https://github.com/MangoTheCat/rematch" class="external-link">the <code>rematch</code> package</a>, chosen because it has less code than almost any other package on CRAN. The following single line traces function calls in all examples for the nominated package. <a href="https://mpadge.github.io/typetracer/reference/trace_package.html">The <code>trace_package()</code> function</a> automatically injects tracing code into every function within the package, so there is no need to explicitly call <a href="https://mpadge.github.io/typetracer/reference/inject_tracer">the <code>inject_tracer()</code> function</a>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>res &lt;-<span class="st"> </span><span class="kw">trace_package</span> (<span class="st">"rematch"</span>)</span>
<span id="cb8-2"><a href="#cb8-2"></a>res</span>
<span id="cb8-3"><a href="#cb8-3"></a></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="co">## # A tibble: 8 × 11</span></span>
<span id="cb8-5"><a href="#cb8-5"></a><span class="co">##   trace_number fn_name fn_call_hash par_name class storage_mode length formal   </span></span>
<span id="cb8-6"><a href="#cb8-6"></a><span class="co">##          &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;    &lt;I&lt;l&gt; &lt;chr&gt;         &lt;int&gt; &lt;named l&gt;</span></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="co">## 1            0 re_mat… JzxtHfgM     pattern  &lt;chr&gt; character         1 &lt;missing&gt;</span></span>
<span id="cb8-8"><a href="#cb8-8"></a><span class="co">## 2            0 re_mat… JzxtHfgM     text     &lt;chr&gt; character         7 &lt;missing&gt;</span></span>
<span id="cb8-9"><a href="#cb8-9"></a><span class="co">## 3            0 re_mat… JzxtHfgM     perl     &lt;chr&gt; logical           1 &lt;lgl [1]&gt;</span></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="co">## 4            0 re_mat… JzxtHfgM     ...      &lt;chr&gt; NULL              0 &lt;missing&gt;</span></span>
<span id="cb8-11"><a href="#cb8-11"></a><span class="co">## 5            1 re_mat… fwBrgGsx     pattern  &lt;chr&gt; character         1 &lt;missing&gt;</span></span>
<span id="cb8-12"><a href="#cb8-12"></a><span class="co">## 6            1 re_mat… fwBrgGsx     text     &lt;chr&gt; character         7 &lt;missing&gt;</span></span>
<span id="cb8-13"><a href="#cb8-13"></a><span class="co">## 7            1 re_mat… fwBrgGsx     perl     &lt;chr&gt; logical           1 &lt;lgl [1]&gt;</span></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="co">## 8            1 re_mat… fwBrgGsx     ...      &lt;chr&gt; NULL              0 &lt;missing&gt;</span></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="co">## # … with 3 more variables: uneval &lt;I&lt;list&gt;&gt;, eval &lt;I&lt;list&gt;&gt;, source &lt;chr&gt;</span></span></code></pre></div>
<p>The <code>data.frame</code> returned by the <code><a href="reference/trace_package.html">trace_package()</a></code> function includes one more column than the result directly returned by <code><a href="reference/load_traces.html">load_traces()</a></code>. This column is called “source”, and identifies the source-code object which generated each trace:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw">unique</span> (res<span class="op">$</span>source)</span>
<span id="cb9-2"><a href="#cb9-2"></a></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="co">## [1] "rd_re_match"</span></span></code></pre></div>
<p>Tracing an installed package generally only extracts traces from example code, as documented in help, or <code>.Rd</code>, files. These are identified by the “rd_” prefix on the source call, with the <code>rematch</code> package including one one <code>.Rd</code> file.</p>
<p><a href="https://mpadge.github.io/typetracer/reference/trace_package.html">The <code>trace_package()</code> function</a> also includes an additional parameter, <code>types</code>, which defaults to <code>c ("examples", "tests")</code>, so that traces are also by default generated for all tests included with local source packages (or for packages installed to include test files). The “source” column for test files identifies the names of each test, prefixed with “test_”.</p>
<p>Other than this “source” column, the results are the same as shown above for <code><a href="reference/load_traces.html">load_traces()</a></code>, with one line for every parameter passed to every function call in the examples. The penultimate two columns of the result hold the unevaluated and evaluated representations of each parameter. The first two values of each demonstrate the difference:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>res<span class="op">$</span>uneval [<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</span>
<span id="cb10-2"><a href="#cb10-2"></a></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="co">## $pattern</span></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="co">## [1] "isodate"</span></span>
<span id="cb10-5"><a href="#cb10-5"></a><span class="co">## </span></span>
<span id="cb10-6"><a href="#cb10-6"></a><span class="co">## $text</span></span>
<span id="cb10-7"><a href="#cb10-7"></a><span class="co">## [1] "dates"</span></span>
<span id="cb10-8"><a href="#cb10-8"></a></span>
<span id="cb10-9"><a href="#cb10-9"></a>res<span class="op">$</span>eval [<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>]</span>
<span id="cb10-10"><a href="#cb10-10"></a></span>
<span id="cb10-11"><a href="#cb10-11"></a><span class="co">## $pattern</span></span>
<span id="cb10-12"><a href="#cb10-12"></a><span class="co">## [1] "([0-9]{4})-([0-1][0-9])-([0-3][0-9])"</span></span>
<span id="cb10-13"><a href="#cb10-13"></a><span class="co">## </span></span>
<span id="cb10-14"><a href="#cb10-14"></a><span class="co">## $text</span></span>
<span id="cb10-15"><a href="#cb10-15"></a><span class="co">## [1] "2016-04-20"       "1977-08-08"       "not a date"       "2016"            </span></span>
<span id="cb10-16"><a href="#cb10-16"></a><span class="co">## [5] "76-03-02"         "2012-06-30"       "2015-01-21 19:58"</span></span></code></pre></div>
<p>The example first assigns a variable <code>isodate</code> to the first of the evaluated values, and then calls the function with <code>pattern = isodate</code>. The second constructs the vector called <code>dates</code> with the second of the evaluated values, then calls the function with <code>test = dates</code>.</p>
<div class="section level3">
<h3 id="example-2a---specifying-functions-to-trace">Example #2(a) - Specifying Functions to Trace<a class="anchor" aria-label="anchor" href="#example-2a---specifying-functions-to-trace"></a>
</h3>
<p><a href="https://mpadge.github.io/typetracer/reference/trace_package.html">The <code>trace_package()</code> function</a> also accepts an argument, <code>functions</code>, specifying which functions from a package should be traced. For example,</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>x &lt;-<span class="st"> </span><span class="kw">trace_package</span> (<span class="st">"stats"</span>, <span class="dt">functions =</span> <span class="kw">c</span> (<span class="st">"sd"</span>, <span class="st">"var"</span>))</span>
<span id="cb11-2"><a href="#cb11-2"></a></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="co">## # A tibble: 10 × 9</span></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co">##    fn_name fn_call_hash par_name class     storage.mode length formal     uneval</span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="co">##    &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;    &lt;I&lt;list&gt;&gt; &lt;chr&gt;         &lt;int&gt; &lt;named li&gt; &lt;I&lt;li&gt;</span></span>
<span id="cb11-6"><a href="#cb11-6"></a><span class="co">##  1 sd      nNbBzFCg     x        &lt;chr [1]&gt; integer           2 &lt;missing&gt;  &lt;chr&gt; </span></span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="co">##  2 sd      nNbBzFCg     na.rm    &lt;chr [1]&gt; logical           1 &lt;lgl [1]&gt;  &lt;chr&gt; </span></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="co">##  3 var     kwTgNeUZ     x        &lt;chr [1]&gt; integer           2 &lt;missing&gt;  &lt;chr&gt; </span></span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="co">##  4 var     kwTgNeUZ     y        &lt;chr [1]&gt; NULL              0 &lt;NULL&gt;     &lt;chr&gt; </span></span>
<span id="cb11-10"><a href="#cb11-10"></a><span class="co">##  5 var     kwTgNeUZ     na.rm    &lt;chr [1]&gt; logical           1 &lt;lgl [1]&gt;  &lt;chr&gt; </span></span>
<span id="cb11-11"><a href="#cb11-11"></a><span class="co">##  6 var     kwTgNeUZ     use      &lt;chr [1]&gt; NULL              0 &lt;missing&gt;  &lt;chr&gt; </span></span>
<span id="cb11-12"><a href="#cb11-12"></a><span class="co">##  7 var     risTCGmw     x        &lt;chr [1]&gt; integer          10 &lt;missing&gt;  &lt;chr&gt; </span></span>
<span id="cb11-13"><a href="#cb11-13"></a><span class="co">##  8 var     risTCGmw     y        &lt;chr [1]&gt; NULL              0 &lt;NULL&gt;     &lt;chr&gt; </span></span>
<span id="cb11-14"><a href="#cb11-14"></a><span class="co">##  9 var     risTCGmw     na.rm    &lt;chr [1]&gt; logical           1 &lt;lgl [1]&gt;  &lt;chr&gt; </span></span>
<span id="cb11-15"><a href="#cb11-15"></a><span class="co">## 10 var     risTCGmw     use      &lt;chr [1]&gt; NULL              0 &lt;missing&gt;  &lt;chr&gt; </span></span>
<span id="cb11-16"><a href="#cb11-16"></a><span class="co">## # … with 1 more variable: eval &lt;I&lt;list&gt;&gt;</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="prior-art">Prior Art<a class="anchor" aria-label="anchor" href="#prior-art"></a>
</h2>
<p>This package extends on concepts previously developed in other R packages, notably including:</p>
<ul>
<li>The <a href="https://github.com/moodymudskipper/typed" class="external-link"><code>typed</code> package</a> by <a href="https://github.com/moodymudskipper" class="external-link">@moodymudskipper</a>
</li>
<li>The <a href="https://github.com/PRL-PRG/contractr" class="external-link"><code>contractr</code> package</a> by <a href="https://github.com/aviralg" class="external-link">@aviralg</a> &amp; <a href="https://github.com/fikovnik" class="external-link">@fikovnik</a>
</li>
</ul>
<p>Plus work explained in detail in this footnote:<br></p>
<p>[1] Alexi Turcotte &amp; Jan Vitek (2019), <em>Towards a Type System for R</em>, ICOOOLPS ’19: Proceedings of the 14th Workshop on Implementation, Compilation, Optimization of Object-Oriented Languages, Programs and Systems. Article No. 4, Pages 1–5, <a href="https://doi.org/10.1145/3340670.3342426" class="external-link uri">https://doi.org/10.1145/3340670.3342426</a></p>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/mpadge/typetracer/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/mpadge/typetracer/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing typetracer</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Mark Padgham <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-2172-5265" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Filip Krikava <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/mpadge/typetracer/actions" class="external-link"><img src="https://github.com/mpadge/typetracer/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://codecov.io/gh/mpadge/typetracer" class="external-link"><img src="https://codecov.io/gh/mpadge/typetracer/branch/main/graph/badge.svg" alt="codecov"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Mark Padgham, Filip Krikava.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
